function autoScroll(){isPaused||(scrollPos+=scrollSpeed,scrollPos>=gallery.scrollWidth/2&&(scrollPos=0),gallery.scrollLeft=scrollPos),requestAnimationFrame(autoScroll)}function autoScroll2(){isPaused2||(scrollPos2--,scrollPos2<=0&&(scrollPos2=gallery2.scrollWidth/2),gallery2.scrollLeft=scrollPos2),requestAnimationFrame(autoScroll2)}function startHeartbeat(){heartbeatInterval&&clearInterval(heartbeatInterval),heartbeatInterval=setInterval(()=>{btn.style.transform="scale(1.3)",setTimeout(()=>{btn.style.transform="scale(1)"},interval/2)},interval)}function stopHeartbeat(){clearInterval(heartbeatInterval),btn.style.transform="scale(1)"}function initMusic(){music.play().then(()=>{isPlaying=!0,btn.textContent="❚❚",startHeartbeat()}).catch(()=>{}),document.removeEventListener("click",initMusic),document.removeEventListener("touchstart",initMusic)}function updateSectionPadding(){const e=nav.offsetHeight;sections.forEach(t=>{t.style.paddingTop=e+"px"})}const menuIcon=document.getElementById("menu-icon"),navLinks=document.getElementById("nav-links"),MOBILE_WIDTH=768;menuIcon.addEventListener("click",e=>{e.stopPropagation(),navLinks.classList.toggle("active")}),document.addEventListener("click",e=>{window.innerWidth<=MOBILE_WIDTH&&navLinks.classList.contains("active")&&!nav.contains(e.target)&&navLinks.classList.remove("active")}),navLinks.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{window.innerWidth<=MOBILE_WIDTH&&navLinks.classList.remove("active")})}),window.addEventListener("resize",()=>{window.innerWidth>MOBILE_WIDTH&&navLinks.classList.remove("active")});const date=new Date("April 05, 2026 00:00:00").getTime();setInterval(()=>{const e=(new Date).getTime(),t=date-e;if(t>0){const e=Math.floor(t/864e5),n=Math.floor(t%864e5/36e5),a=Math.floor(t%36e5/6e4),s=Math.floor(t%6e4/1e3);document.getElementById("days").innerText=e,document.getElementById("hours").innerText=n.toString().padStart(2,"0"),document.getElementById("minutes").innerText=a.toString().padStart(2,"0"),document.getElementById("seconds").innerText=s.toString().padStart(2,"0")}},1e3);const petalContainer=document.querySelector(".petals");for(let e=0;e<25;e++){const e=document.createElement("div");e.classList.add("petal"),e.style.left=100*Math.random()+"vw",e.style.animationDuration=10+10*Math.random()+"s",e.style.animationDelay=10*Math.random()+"s",e.style.opacity=.5+.5*Math.random(),petalContainer.appendChild(e)}document.querySelectorAll("nav a").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href").substring(1),n=document.getElementById(t);if(n){const e=nav.offsetHeight;window.scrollTo({top:n.offsetTop-e,behavior:"smooth"})}})});const gallery=document.querySelector(".gallery1");gallery.innerHTML+=gallery.innerHTML;let scrollPos=0;const scrollSpeed=1;let isPaused=!1;gallery.addEventListener("mouseenter",()=>{isPaused=!0}),gallery.addEventListener("mouseleave",()=>{isPaused=!1}),autoScroll();const gallery2=document.querySelector(".gallery2");gallery2.innerHTML+=gallery2.innerHTML;let scrollPos2=gallery2.scrollWidth/2;const scrollSpeed2=1;let isPaused2=!1;gallery2.addEventListener("mouseenter",()=>{isPaused2=!0}),gallery2.addEventListener("mouseleave",()=>{isPaused2=!1}),autoScroll2();const music=document.getElementById("bg-music"),btn=document.getElementById("music-btn");let heartbeatInterval,isPlaying=!1;const BPM=120,interval=60/BPM*1e3;document.addEventListener("click",initMusic),document.addEventListener("touchstart",initMusic),btn.addEventListener("click",e=>{e.stopPropagation(),isPlaying?(music.pause(),btn.textContent="▶",stopHeartbeat()):(music.play(),btn.textContent="❚❚",startHeartbeat()),isPlaying=!isPlaying});const nav=document.querySelector(".nav");document.documentElement.style.setProperty("--nav-height",nav.offsetHeight+"px"),window.addEventListener("resize",()=>{document.documentElement.style.setProperty("--nav-height",nav.offsetHeight+"px")}),"true"!==sessionStorage.getItem("envelopeOpened")&&(window.location.href="../index.html");const sections=document.querySelectorAll(".section"),observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("show")})},{threshold:.2});sections.forEach(e=>observer.observe(e)),updateSectionPadding(),window.addEventListener("resize",updateSectionPadding);